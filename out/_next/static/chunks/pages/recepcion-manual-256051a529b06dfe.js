(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{2366:(e,a,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/recepcion-manual",function(){return n(8608)}])},8608:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>o});var t=n(4848),r=n(6540),l=n(3152),i=n.n(l),c=n(6715);function o(){let[e,a]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[o,s]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),_=(0,c.useRouter)(),m=async a=>{if(a.preventDefault(),p(!0),!e||!n){alert("Por favor, completa todos los campos."),p(!1);return}let t=new FormData;t.append("codigo_departamento",e),t.append("image",n,n.name);try{(await fetch("http://146.148.75.57/api/notifications/send/",{method:"POST",body:t})).ok?_.push("/confirmacionRecepcion"):alert("Error al registrar la recepci\xf3n.")}catch(e){console.error("Error al enviar la recepci\xf3n:",e),alert("Hubo un problema al registrar la recepci\xf3n. Int\xe9ntalo nuevamente.")}finally{p(!1)}};return(0,t.jsxs)("div",{className:i().container,children:[u&&(0,t.jsx)("div",{className:i().overlay,children:(0,t.jsx)("div",{className:i().overlayText,children:"Registrando..."})}),(0,t.jsx)("h1",{className:i().title,children:"Recepci\xf3n Manual"}),(0,t.jsx)("button",{className:i().backButton,onClick:()=>_.push("/"),children:"â† Volver"}),(0,t.jsxs)("form",{onSubmit:m,className:i().form,children:[(0,t.jsx)("label",{className:i().label,htmlFor:"codigoDepartamento",children:"C\xf3digo del Departamento:"}),(0,t.jsx)("input",{type:"text",id:"codigoDepartamento",value:e,onChange:e=>a(e.target.value),className:i().input,placeholder:"Ingrese el c\xf3digo del departamento"}),(0,t.jsx)("label",{className:i().label,htmlFor:"imagen",children:"Imagen:"}),(0,t.jsx)("input",{type:"file",id:"imagen",accept:"image/*",onChange:e=>{let a=e.target.files[0];l(a),s(URL.createObjectURL(a))},className:i().fileInput}),o&&(0,t.jsx)("div",{className:i().previewContainer,children:(0,t.jsx)("img",{src:o,alt:"Preview",className:i().imagePreview})}),(0,t.jsx)("button",{type:"submit",className:i().submitButton,disabled:u,children:"Registrar Recepci\xf3n"})]})]})}},3152:e=>{e.exports={container:"recepcionManual_container__75Bi_",title:"recepcionManual_title__GBdvm",backButton:"recepcionManual_backButton__9nGoA",form:"recepcionManual_form__nZib6",label:"recepcionManual_label__IhEqx",input:"recepcionManual_input__b0r6F",fileInput:"recepcionManual_fileInput__Yxvcb",previewContainer:"recepcionManual_previewContainer__GhAPC",imagePreview:"recepcionManual_imagePreview__FBJUl",submitButton:"recepcionManual_submitButton__L3HIG",overlay:"recepcionManual_overlay__DwYap",overlayText:"recepcionManual_overlayText__zwntr",loadingMessage:"recepcionManual_loadingMessage__AVt8e"}},6715:(e,a,n)=>{e.exports=n(8440)}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(2366)),_N_E=e.O()}]);