(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{132:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/ReviewImage",function(){return r(7008)}])},7008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var o={};r.r(o),r.d(o,{J:()=>l});var n=r(4848),a=r(6715),s=r(390),i=r(4335);let l=async e=>{let t=new FormData;t.append("image",e);try{return(await i.A.post(API_CONFIG.imageProcessing,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw e.response?(console.error("Error en el backend: ".concat(e.response.status," - ").concat(e.response.statusText)),console.error("Detalles del error:",e.response.data)):e.request?console.error("No se recibi\xf3 respuesta del backend:",e.request):console.error("Error al enviar la solicitud:",e.message),Error("Error al procesar la imagen. Por favor, intenta nuevamente.")}};var c=r(6540),_=r(8005),d=r.n(_);function u(){let{imageSrc:e,clearImage:t}=(0,s.l)(),[r,i]=(0,c.useState)(!1),[_,u]=(0,c.useState)(""),[m,p]=(0,c.useState)(null);(0,a.useRouter)();let h=async()=>{i(!0),u("");try{let r=await l(e);console.log("Respuesta del procesamiento de imagen:",r);let n=await (0,o.analyzeText)(r.text);console.log("Respuesta del an\xe1lisis de texto:",n);let a=await (0,o.getResidente)(n.openai_depto);console.log("Informaci\xf3n del residente:",a),p({residente:a.nombre_completo,departamento:n.openai_depto}),t()}catch(e){console.error("Error durante el proceso:",e),u("Hubo un error durante el procesamiento. Intenta nuevamente.")}i(!1)};return(0,n.jsxs)("div",{className:d().container,children:[(0,n.jsx)("h1",{children:"Revisar Imagen"}),e&&(0,n.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview",className:d().imagePreview}),_&&(0,n.jsx)("p",{className:d().error,children:_}),r?(0,n.jsx)("p",{children:"Procesando..."}):(0,n.jsx)("button",{onClick:h,className:d().sendButton,children:"Enviar"}),m&&(0,n.jsxs)("div",{className:d().result,children:[(0,n.jsx)("h2",{children:"Resultado"}),(0,n.jsxs)("p",{children:["Residente: ",m.residente]}),(0,n.jsxs)("p",{children:["Departamento: ",m.departamento]})]})]})}},8005:e=>{e.exports={container:"Home_container__9OuOz",header:"Home_header__ZUWxe",appTitle:"Home_appTitle__yiXSx",title:"Home_title__YEn0u",description:"Home_description__zHUB6",menu:"Home_menu__PaWB6",menuButton:"Home_menuButton__x1lsI",icon:"Home_icon__cxK0Z",loader:"Home_loader__yM5SM",fadeInOut:"Home_fadeInOut___giz_",button:"Home_button__Mzpzz",captureButton:"Home_captureButton__WvKu9",video:"Home_video__0jLVe",sendButton:"Home_sendButton__XuI40"}}},e=>{var t=t=>e(e.s=t);e.O(0,[909,636,593,792],()=>t(132)),_N_E=e.O()}]);